{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/EasyPG/EASY-PG-main/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Stars from'./Stars';import Interested from'./Interested';import{base_path}from'./utils.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessCard=function MessCard(props){// let den=0;\n// if(props.mess.rating_clean!==0)\n// den++;\n// if(props.mess.rating_food!==0)\n// den++;\n// if(props.mess.rating_safety!==0)\n// den++;\n// if(props.mess.rating_service!==0)\n// den++;\n// if(den==0)\n// den++;\nvar _useState=useState(props.mess.menu),_useState2=_slicedToArray(_useState,2),menu=_useState2[0],setMenu=_useState2[1];// let text;\n// if(props.mess.is_owner){\n//     text=<input class=\"form-control form-control-sm\" type=\"text\" value={menu} onChange={updateMenu} /> \n//     // <textarea class=\"form-control\" rows=\"1\" value={menu} onChange={updateMenu}></textarea>\n// }\n// else{\n//     text= <input class=\"form-control form-control-sm\" type=\"text\" placeholder={ props.mess.menu } readOnly={true}/>\n// }\n// state= {\n//     menu: props.mess.menu\n// };\nvar updateMenu=function updateMenu(event){setMenu(event.target.value);fetch(\"\".concat(base_path,\"/api/update_menu.php?mess_id=\").concat(props.mess.id,\"&menu=\").concat(menu)).then(function(response){return response.json();}).then(function(responseData){if(responseData.success){console.log('Success');// this.setState({\n//     menu: event.target.value\n// });\n}else{console.log(responseData.message);}// } else if (!responseData.success && !responseData.is_logged_in) {\n//     console.log('Not logged in!');\n//     window.$(\"#login-modal\").modal(\"show\");\n// }\n}).catch(function(error){console.log('Error fetching and parsing data',error);});};var total_rating=(parseFloat(props.mess.rating_food)+parseFloat(props.mess.rating_service))/2;total_rating=Math.round(total_rating*10)/10;total_rating=total_rating.toFixed(1);// let gender_image;\n// if (props.mess.gender === \"male\") {\n//     gender_image = <img src={base_path + \"/img/male.png\"} alt=\"male\" />;\n// } else if (props.mess.gender === \"female\") {\n//     gender_image = <img src={base_path + \"/img/female.png\"} alt=\"female\" />;\n// } else {\n//     gender_image = <img src={base_path + \"/img/unisex.png\"} alt=\"unisex\" />;\n// }\nvar charge=new Intl.NumberFormat().format(props.mess.charge);var charge_breakfast=new Intl.NumberFormat().format(props.mess.charge_breakfast);var charge_monthly=new Intl.NumberFormat().format(props.mess.charge_monthly);return/*#__PURE__*/_jsxs(\"div\",{className:\"mess-card mess-id-\".concat(props.mess.id,\" row\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-container col-md-4\",children:/*#__PURE__*/_jsx(\"img\",{src:base_path+\"/\"+props.mess.image,alt:\"mess\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-container col-md-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row no-gutters justify-content-between\",children:[/*#__PURE__*/_jsx(Stars,{rating:total_rating}),/*#__PURE__*/_jsx(Interested,{is_interested:props.mess.is_interested,toggleInterested:props.toggleInterested,user_count:props.mess.interested_users_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mess-name\",children:props.mess.name}),/*#__PURE__*/_jsx(\"div\",{className:\"mess-address\",children:props.mess.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row no-gutters\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"charge-container col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"charge\",children:[\"Monthly : \\u20B9 \",charge_monthly,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"charge-container col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"charge\",children:[\"Lunch/Dinner : \\u20B9 \",charge,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"charge-container col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"charge\",children:[\"Breakfast : \\u20B9 \",charge_breakfast,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"charge-container col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"charge\",children:[\"Menu\",/*#__PURE__*/_jsx(\"input\",{class:\"form-control form-control-sm\",type:\"text\",value:menu,onChange:updateMenu})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container col-6\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn btn-primary\",children:\"Order\"})})]})]})]});};export default MessCard;","map":{"version":3,"sources":["C:/xampp/htdocs/EasyPG/EASY-PG-main/react-app/src/MessCard.js"],"names":["React","useState","Stars","Interested","base_path","MessCard","props","mess","menu","setMenu","updateMenu","event","target","value","fetch","id","then","response","json","responseData","success","console","log","message","catch","error","total_rating","parseFloat","rating_food","rating_service","Math","round","toFixed","charge","Intl","NumberFormat","format","charge_breakfast","charge_monthly","image","is_interested","toggleInterested","interested_users_count","name","address"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,SAAT,KAA0B,YAA1B,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAE,QAAVA,CAAAA,QAAU,CAAAC,KAAK,CAAI,CACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAsBL,QAAQ,CAACK,KAAK,CAACC,IAAN,CAAWC,IAAZ,CAA9B,wCAAOA,IAAP,eAAYC,OAAZ,eACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,GAAMC,CAAAA,UAAU,CAAC,QAAXA,CAAAA,UAAW,CAACC,KAAD,CAAU,CACnBF,OAAO,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP,CACAC,KAAK,WAAIV,SAAJ,yCAA6CE,KAAK,CAACC,IAAN,CAAWQ,EAAxD,kBAAmEP,IAAnE,EAAL,CACKQ,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,YAAY,CAAI,CAClB,GAAIA,YAAY,CAACC,OAAjB,CAA0B,CACtBC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACA;AACA;AACA;AAEH,CAND,IAOI,CACAD,OAAO,CAACC,GAAR,CAAYH,YAAY,CAACI,OAAzB,EACH,CACD;AACA;AACA;AACA;AACH,CAjBL,EAkBKC,KAlBL,CAkBW,SAAAC,KAAK,CAAI,CACZJ,OAAO,CAACC,GAAR,CAAY,iCAAZ,CAA+CG,KAA/C,EACH,CApBL,EAuBP,CAzBD,CA0BA,GAAIC,CAAAA,YAAY,CAAG,CAACC,UAAU,CAACrB,KAAK,CAACC,IAAN,CAAWqB,WAAZ,CAAV,CAAoCD,UAAU,CAACrB,KAAK,CAACC,IAAN,CAAWsB,cAAZ,CAA/C,EAA8E,CAAjG,CACAH,YAAY,CAAGI,IAAI,CAACC,KAAL,CAAWL,YAAY,CAAG,EAA1B,EAAgC,EAA/C,CACAA,YAAY,CAAGA,YAAY,CAACM,OAAb,CAAqB,CAArB,CAAf,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+B9B,KAAK,CAACC,IAAN,CAAW0B,MAA1C,CAAb,CACA,GAAII,CAAAA,gBAAgB,CAAG,GAAIH,CAAAA,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+B9B,KAAK,CAACC,IAAN,CAAW8B,gBAA1C,CAAvB,CACA,GAAIC,CAAAA,cAAc,CAAG,GAAIJ,CAAAA,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+B9B,KAAK,CAACC,IAAN,CAAW+B,cAA1C,CAArB,CAEA,mBACI,aAAK,SAAS,6BAAuBhC,KAAK,CAACC,IAAN,CAAWQ,EAAlC,QAAd,wBACI,YAAK,SAAS,CAAC,0BAAf,uBACI,YAAK,GAAG,CAAEX,SAAS,CAAG,GAAZ,CAAkBE,KAAK,CAACC,IAAN,CAAWgC,KAAvC,CAA8C,GAAG,CAAC,MAAlD,EADJ,EADJ,cAKI,aAAK,SAAS,CAAC,4BAAf,wBACI,aAAK,SAAS,CAAC,wCAAf,wBACI,KAAC,KAAD,EAAO,MAAM,CAAEb,YAAf,EADJ,cAGI,KAAC,UAAD,EACI,aAAa,CAAEpB,KAAK,CAACC,IAAN,CAAWiC,aAD9B,CAEI,gBAAgB,CAAElC,KAAK,CAACmC,gBAF5B,CAGI,UAAU,CAAEnC,KAAK,CAACC,IAAN,CAAWmC,sBAH3B,EAHJ,GADJ,cAWI,aAAK,SAAS,CAAC,kBAAf,wBACI,YAAK,SAAS,CAAC,WAAf,UAA4BpC,KAAK,CAACC,IAAN,CAAWoC,IAAvC,EADJ,cAEI,YAAK,SAAS,CAAC,cAAf,UAA+BrC,KAAK,CAACC,IAAN,CAAWqC,OAA1C,EAFJ,GAXJ,cAmBI,aAAK,SAAS,CAAC,gBAAf,wBACI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,QAAf,+BAAqCN,cAArC,QADJ,EADJ,cAMI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,QAAf,oCAA0CL,MAA1C,QADJ,EANJ,cAUI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,QAAf,iCAAuCI,gBAAvC,QADJ,EAVJ,cAeI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,QAAf,+BAEA,cAAO,KAAK,CAAC,8BAAb,CAA4C,IAAI,CAAC,MAAjD,CAAwD,KAAK,CAAE7B,IAA/D,CAAqE,QAAQ,CAAEE,UAA/E,EAFA,GADJ,EAfJ,cAgCI,YAAK,SAAS,CAAC,wBAAf,uBACI,UAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAC,iBAAtB,mBADJ,EAhCJ,GAnBJ,GALJ,GADJ,CAgEH,CApID,CAsIA,cAAeL,CAAAA,QAAf","sourcesContent":["import React, {useState} from \"react\"; \r\nimport Stars from './Stars';\r\nimport Interested from './Interested';\r\nimport { base_path } from './utils.js';\r\n\r\nconst MessCard= props => {\r\n    // let den=0;\r\n    // if(props.mess.rating_clean!==0)\r\n    // den++;\r\n    // if(props.mess.rating_food!==0)\r\n    // den++;\r\n    // if(props.mess.rating_safety!==0)\r\n    // den++;\r\n    // if(props.mess.rating_service!==0)\r\n    // den++;\r\n    // if(den==0)\r\n    // den++;\r\n    const [menu,setMenu]= useState(props.mess.menu);\r\n    // let text;\r\n    // if(props.mess.is_owner){\r\n    //     text=<input class=\"form-control form-control-sm\" type=\"text\" value={menu} onChange={updateMenu} /> \r\n    //     // <textarea class=\"form-control\" rows=\"1\" value={menu} onChange={updateMenu}></textarea>\r\n    // }\r\n    // else{\r\n    //     text= <input class=\"form-control form-control-sm\" type=\"text\" placeholder={ props.mess.menu } readOnly={true}/>\r\n    // }\r\n    \r\n    // state= {\r\n    //     menu: props.mess.menu\r\n    // };\r\n    const updateMenu=(event) =>{\r\n            setMenu(event.target.value)\r\n            fetch(`${base_path}/api/update_menu.php?mess_id=${props.mess.id}&menu=${menu}`)\r\n                .then(response => response.json())\r\n                .then(responseData => {\r\n                    if (responseData.success) {\r\n                        console.log('Success');\r\n                        // this.setState({\r\n                        //     menu: event.target.value\r\n                        // });\r\n                        \r\n                    }\r\n                    else{\r\n                        console.log(responseData.message);\r\n                    }\r\n                    // } else if (!responseData.success && !responseData.is_logged_in) {\r\n                    //     console.log('Not logged in!');\r\n                    //     window.$(\"#login-modal\").modal(\"show\");\r\n                    // }\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error fetching and parsing data', error);\r\n                });\r\n        \r\n       \r\n    }\r\n    let total_rating = (parseFloat(props.mess.rating_food) +parseFloat(props.mess.rating_service)) / 2;\r\n    total_rating = Math.round(total_rating * 10) / 10;\r\n    total_rating = total_rating.toFixed(1);\r\n\r\n    // let gender_image;\r\n    // if (props.mess.gender === \"male\") {\r\n    //     gender_image = <img src={base_path + \"/img/male.png\"} alt=\"male\" />;\r\n    // } else if (props.mess.gender === \"female\") {\r\n    //     gender_image = <img src={base_path + \"/img/female.png\"} alt=\"female\" />;\r\n    // } else {\r\n    //     gender_image = <img src={base_path + \"/img/unisex.png\"} alt=\"unisex\" />;\r\n    // }\r\n\r\n    let charge = new Intl.NumberFormat().format(props.mess.charge);\r\n    let charge_breakfast = new Intl.NumberFormat().format(props.mess.charge_breakfast);\r\n    let charge_monthly = new Intl.NumberFormat().format(props.mess.charge_monthly);\r\n\r\n    return (\r\n        <div className={`mess-card mess-id-${props.mess.id} row`}>\r\n            <div className=\"image-container col-md-4\">\r\n                <img src={base_path + \"/\" + props.mess.image} alt=\"mess\" />\r\n            </div>\r\n\r\n            <div className=\"content-container col-md-8\">\r\n                <div className=\"row no-gutters justify-content-between\">\r\n                    <Stars rating={total_rating} />\r\n\r\n                    <Interested\r\n                        is_interested={props.mess.is_interested}\r\n                        toggleInterested={props.toggleInterested}\r\n                        user_count={props.mess.interested_users_count}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"detail-container\">\r\n                    <div className=\"mess-name\">{props.mess.name}</div>\r\n                    <div className=\"mess-address\">{props.mess.address}</div>\r\n                    {/* <div className=\"mess-gender\">\r\n                        {gender_image}\r\n                    </div> */}\r\n                </div>\r\n\r\n                <div className=\"row no-gutters\">\r\n                    <div className=\"charge-container col-6\">\r\n                        <div className=\"charge\">Monthly : ₹ {charge_monthly}/-</div>\r\n                        {/* <div className=\"charge-unit\">(includes lunch and dinner)</div> */}\r\n                        \r\n                    </div>\r\n                    <div className=\"charge-container col-6\">\r\n                        <div className=\"charge\">Lunch/Dinner : ₹ {charge}/-</div>\r\n                        \r\n                    </div>\r\n                    <div className=\"charge-container col-6\">\r\n                        <div className=\"charge\">Breakfast : ₹ {charge_breakfast}/-</div>\r\n                        \r\n                    </div>\r\n                     \r\n                    <div className=\"charge-container col-6\">\r\n                        <div className=\"charge\">Menu  \r\n                        {/* {text} */}\r\n                        <input class=\"form-control form-control-sm\" type=\"text\" value={menu} onChange={updateMenu} />\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    \r\n                    {/* else{\r\n                        <div className=\"charge-container col-6\">\r\n                        <div className=\"charge\">Menu  \r\n                        \r\n                       \r\n                        </div>\r\n                        \r\n                        </div>\r\n                    }  */}\r\n                    <div className=\"button-container col-6\">\r\n                        <a href=\"#\" className=\"btn btn-primary\">Order</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MessCard;\r\n"]},"metadata":{},"sourceType":"module"}